<!DOCTYPE html>
<html lang="en">
	<head th:include="common/head :: #head"></head>
	<body>
		<!-- wrapper -->
		<div class="wrapper">
			<!-- sidebar -->
			<div th:include="common/left :: #sidebar"></div>
			<!-- /sidebar -->
			<!-- main -->
			<div class="main">
				<!-- header -->
				<div th:include="common/header :: #header"></div>
				<!-- /header -->
				
				<!-- 所有页面数据保持在一屏显示 -->
				<div class="fixedHeight">
					<iframe class="autoHeight" name="mainFrame" id="mainFrame" frameborder="0" width="100%" height="100%" scrolling="no" src="/main" onload="autoHeight()"></iframe>
				</div>
				
			</div>
			<!-- /main -->
		</div>
		<!-- /wrapper -->
	</body>
</html>

<script type="text/javascript">
	var docHeight = document.body.clientHeight;//获取页面可视区域高度
	
	function autoHeight() {//iframe自适应高度
	    var ug_frame = document.getElementById('mainFrame');
	    ug_frame.height = '1100';
// 	    ug_frame.height = docHeight;
	    if (ug_frame == null) return
	    window.setInterval(function() {
	        try {
	            var bHeight = ug_frame.contentWindow.document.body.scrollHeight;
	            var dHeight = ug_frame.contentWindow.document.documentElement.scrollHeight;
	            var height = Math.min(bHeight, dHeight);
	            if (height < 900) {
	            	ug_frame.height = '1100';	
	            } else {
	            	ug_frame.height = height;
	            }
	        } catch (e) {}
	    }, 200)
	}
</script>
<script data-main="js/index.js" src="js/base/require.min.js"></script>
